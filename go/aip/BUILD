go_library(
    name = "aip",
    srcs = [
        "filtering_request.go",
        "list_request_parser.go",
        "ordering_request.go",
        "paginate.go",
        "pagination_request.go",
        "resource.go",
        "resource_tree.go",
        "search_request_parser.go",
        "update_request_parser.go",
        "uuid_namespace.go",
    ],
    visibility = ["PUBLIC"],
    deps = [
        "//go/pbutil",
        "//go/uuid",
        "//malonaz/codegen/aip/v1",
        "//malonaz/codegen/model/v1",
        "//third_party/go:buf.build__go__protovalidate",
        "//third_party/go:github.com__huandu__xstrings",
        "//third_party/go:go.einride.tech__aip__fieldmask",
        "//third_party/go:go.einride.tech__aip__filtering",
        "//third_party/go:go.einride.tech__aip__ordering",
        "//third_party/go:go.einride.tech__aip__pagination",
        "//third_party/go:go.einride.tech__aip__resourcename",
        "//third_party/go:go.einride.tech__spanner-aip__spanfiltering",
        "//third_party/go:go.einride.tech__spanner-aip__spanordering",
        "//third_party/go:golang.org__x__sync__errgroup",
        "//third_party/go:google.golang.org__grpc",
        "//third_party/go:google.golang.org__protobuf__proto",
        "//third_party/go:google.golang.org__protobuf__reflect__protoreflect",
        "//third_party/go:google.golang.org__protobuf__reflect__protoregistry",
        "//third_party/go:google.golang.org__protobuf__types__known__fieldmaskpb",
        "//third_party/proto:google__api__annotations",
        "//third_party/proto:google__api__expr__v1alpha1",
    ],
)

go_test(
    name = "test",
    srcs = [
        "filtering_request_test.go",
        "ordering_request_test.go",
        "pagination_request_test.go",
        "update_request_parser_test.go",
    ],
    deps = [
        ":aip",
        "//malonaz/test/aip",
        "//third_party/go:buf.build__go__protovalidate",
        "//third_party/go:github.com__stretchr__testify__require",
        "//third_party/go:google.golang.org__protobuf__types__known__fieldmaskpb",
    ],
)
