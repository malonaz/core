{{ define "buildify.service" -}}
# Generated by onyx buildify - DO NOT EDIT
genrule(
    name = "{{ .Manifest.Filepath | dir | base }}",
    srcs = [
        "{{ .Manifest.Filepath | base }}",
    ],
    cmd = "onyx gen --input $SRCS",
    deps = [
        {{- range $dep := .Manifest.Message.Spec.Dependencies -}}
        {{- if $dep.GetGrpcClient }}
        "{{ $dep.GetGrpcClient.Proto }}",
        {{- end }}

        {{- end }}
    ],
    outs = [
        {{- range $out := .OutputFiles }}
        "{{ $out }}",
        {{- end }}
    ],
    #tools = ["//tools/onyx"],
)
{{- end }}
